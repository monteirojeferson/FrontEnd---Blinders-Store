<div class="container mb-5 mt-5">

<div class="row">
  <div class="col-md-3">
    <button *ngIf='authService.adm() ' class="btn btn-primary" type="button" routerLink="/cadastrar">
      Cadastrar usuários
    </button>
  </div>
  <div class="col-md-3">
    <div class="d-flex justify-content-center">
      <button type="submit" class="btn btn-warning mr-4" routerLink='/endereco'>Atualizar endereço</button>
    
    </div>
  </div>
  <div class="col-md-3">
    <button *ngIf='authService.adm() || authService.estoquista()' class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseWidthExample" aria-expanded="false" aria-controls="collapseWidthExample"  data-toggle="modal" data-target="#detalhes">
      Lista de usuários
    </button>

  </div>
</div>
 
 
  

    <div class="row mt-5 my-2">
      <div class="col-md-12">
        <h1 class="text-center text-sencondary">Atualizar meu usuário</h1>
      </div>
    </div>
  
   
    
    <div class="row d-flex justify-content-center">
      <div class="col-md-10">
  
        <div class="form-group">
          <label for="nome">Nome</label>
          <input [(ngModel)]='user.nome' class="form-control" type="text" name="nome" id="nome" placeholder="Seu nome"  >
        </div>
  
        <div class="form-group">
          <label for="usuario">Usuário</label>
          <input [(ngModel)]='user.usuario' class="form-control" type="text" name="usuario" id="usuario" placeholder="Seu usuário">
        </div>
  
        <div class="form-group">
          <label for="foto">Link da Foto</label>
          <input [(ngModel)]='user.foto' class="form-control" type="text" name="foto" id="foto" placeholder="Link da sua foto">
        </div>
  
        <div class="form-group">
          <label for="senha">Senha</label>
          <input (input)='confirmSenha($event)' class="form-control" type="password" name="senha" id="senha" placeholder="Sua senha">
        </div>
  
        <div class="form-group">
          <label for="confirmSenha">Confirmar Senha</label>
          <input [(ngModel)]='user.senha' class="form-control" type="password" name="confirmSenha" id="confirmSenha"
            placeholder="Confirme sua senha">
        </div>
  
        <div class="form-group">
          <label for="tipo">Tipo de Usuário</label>
          <select class="form-control" name="tipo" id="tipo" (change)='tipoUser($event)'>
            <option>Selecione um tipo de usuário:</option>
            <option value="normal">Normal</option>
            <option value="adm">Administrador</option>
            <option value="estoquista">Estoquista</option>
          </select>
        </div>

        
  
        <div class="d-flex justify-content-center">
          <button type="submit" class="btn btn-danger mr-4" routerLink='/inicio'>Cancelar</button>
          <button type="submit" class="btn btn-success" (click)='atualizar()' >Atualizar</button>
        </div>
  
      </div>
    </div>
 
  </div>



      <!-- Modal Detalhes -->
  <div class="modal fade" id="detalhes" role="dialog" aria-labelledby="TituloModalCentralizado"
  aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="TituloModalCentralizado" style="font-weight: bold; color: orangered;">Usuários</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      
        
      <div class="modal-body">
        

        
        <div *ngFor="let user of listaUsuarios | orderBy : key : reverse">
          <p>
           
          </p>
          <div style="min-height: 120px;">
            <div class="collapse collapse-horizontal" id="collapseWidthExample">
              <div class="card card-body">
                <table class="table table-dark table-striped">
                  <thead>
                    <tr>
                      <th scope="col">Nome</th>
                      <th scope="col">Usuário</th>
                      <th scope="col">CPF</th>
                      <th scope="col">Email</th>
                      <th scope="col">Endereço</th>
                      <th scope="col">CEP</th>
                      <th scope="col">Cidade</th>
                      <th scope="col">Estado</th>
                      <th scope="col">Numero</th>
                      <th scope="col">Tipo de Usuário</th>
                      
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>{{user.nome}}</td>
                      <td>{{user.usuario}}</td>
                      <td>{{user.cpf}}</td>
                      <td>{{user.email}}</td>
                      <td>{{user.endereco.endereco}}</td>
                      <td>{{user.endereco.cep}}</td>
                      <td>{{user.endereco.cidade}}</td>
                      <td>{{user.endereco.estado}}</td>
                      <td>{{user.endereco.numero}}</td>
                      <td>{{user.tipo}}</td>
                      
                      
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        
      </div>


      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Fechar</button>
        <!-- <button type="button" class="btn btn-success" (click)='publicar()' data-dismiss="modal">Inserir</button> -->
      </div>
    </div>
  </div>
</div>
        
     
 
